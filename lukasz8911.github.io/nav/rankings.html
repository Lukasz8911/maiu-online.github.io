<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../style.css" rel="stylesheet" />
    <title>Maiu Online</title>
    <script>
      // Function to fetch and display server info
      async function fetchServerInfo() {
        try {
          const response = await fetch(
            "http://ec2-18-197-107-86.eu-central-1.compute.amazonaws.com:8080/v1/api/info"
          );
          const data = await response.json();

          // Example: Assuming data has fields like 'serverName' and 'uptime'
          document.getElementById("online").textContent =
            data.online || "online";
          document.getElementById("totalOnline").textContent =
            data.totalOnline || "Total online";
          document.getElementById("maxOnline").textContent =
            data.maxOnline || "Max Online";

          // Add more fields as necessary based on your API's response structure
        } catch (error) {
          console.error("Error fetching server info:", error);
          document.getElementById("info").textContent =
            "Error fetching server information";
        }
      }

      // Call the function every 5 seconds
      setInterval(fetchServerInfo, 5000);

      // Initial call to populate the data immediately when the page loads
      window.onload = fetchServerInfo;
    </script>
  </head>
  <body>
    <nav>
      <img src="../logo.png" class="logo" />
      <ul class="nav">
        <a href="../index.html"
          ><button>
            <li class="home">Home</li>
          </button></a
        >
        <a href="./news.html"
          ><button>
            <li class="news">News</li>
          </button></a
        >
        <a href="./wiki.html"
          ><button>
            <li class="wiki">Wiki</li>
          </button></a
        >
        <a href="./about.html"
          ><button>
            <li class="about">About</li>
          </button></a
        >

        <a href="./rankings.html"
          ><button><li class="rankings">Rankings</li></button></a
        >

        <a href="./classes.html"
          ><button>
            <li class="classes">Classes</li>
          </button></a
        >
        <a href="./gallery.html"
          ><button>
            <li class="gallery">Gallery</li>
          </button></a
        >
      </ul>
    </nav>

    <main>
      <div id="wiki">
        <h2>RANKINGS</h2>
        <h3>Server Information</h3>
        <div id="info">
          <p><strong>Online:</strong> <span id="online">Loading...</span></p>
          <p>
            <strong>Total Online:</strong>
            <span id="totalOnline">Loading...</span>
          </p>
          <p>
            <strong>Max Online</strong> <span id="maxOnline">Loading...</span>
          </p>
        </div>
      </div>
      <footer>&copy All rights reserved</footer>
    </main>
  </body>
</html>
